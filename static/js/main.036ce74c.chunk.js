(this["webpackJsonpcuentas-app"]=this["webpackJsonpcuentas-app"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(11),s=c.n(n),o=c(7),r=c(12),i=c(3),l={loading:!1,data_send:!1,error:null,current_account:{Fecha:"",Usuario:"","Tipo de gasto":"Sin datos, actualiza la tabla",Costo:0,Comentario:""},accounts:[{Fecha:"",Usuario:"","Tipo de gasto":"Sin datos, actualiza la tabla",Costo:"",Comentario:""}]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(console.log("reducer",Boolean(t.payload)),t.type){case"RESET_DATA_SEND":return Object(i.a)(Object(i.a)({},e),{},{data_send:!1});case"SET_CURRENT_ACCOUNT":return Object(i.a)(Object(i.a)({},e),{},{current_account:t.payload});case"POST_ACCOUNT_REQUESTED":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"POST_ACCOUNT_DONE":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,data_send:!0});case"GET_ACCOUNTS_REQUESTED":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"GET_ACCOUNTS_DONE":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,accounts:t.payload});default:return e}},u=c(26),b=(c(35),c(4)),d=(c(36),c(37),c.p+"static/media/gastos-comunes-icon.6578e9ee.svg"),O=c(1),p=function(){return Object(O.jsx)("header",{className:"header-gastos-comunes",children:Object(O.jsx)("a",{href:"#",className:"header-gastos-comunes__logo",children:Object(O.jsx)("img",{src:d,alt:"Cuentas comunes logo"})})})},h=c(15),g=c(2),m=c.n(g),x=c(5),f=c(17),C=c.n(f),N=(c(58),c.p+"static/media/calendar-icon.2219f59f.svg"),_=c.p+"static/media/comment-icon.e2811a2f.svg",T=c.p+"static/media/price-icon.e822666f.svg",v=c.p+"static/media/type-icon.d8f40693.svg",E=c.p+"static/media/user-icon.83c6af46.svg",y=function(e){var t=e.togglePopup,c=Object(a.useState)(""),n=Object(b.a)(c,2),s=n[0],r=n[1],l=Object(h.a)(),j=l.register,u=l.handleSubmit,d=Object(o.b)();return Object(O.jsxs)("form",{className:"new-account-form",onSubmit:u((function(e){d(function(e){return{type:"SET_CURRENT_ACCOUNT",payload:e}}(e))})),children:[Object(O.jsx)("h2",{className:"new-account-form__title",children:"Adicionar Gastos"}),Object(O.jsxs)("label",{children:["Fecha:",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(N,")")}}),Object(O.jsx)("input",Object(i.a)(Object(i.a)({},j("Fecha")),{},{type:"date"}))]}),Object(O.jsxs)("label",{children:["Usuario:",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(E,")")}}),Object(O.jsx)("input",Object(i.a)(Object(i.a)({},j("Usuario")),{},{type:"text"}))]}),Object(O.jsxs)("label",{children:["Tipo de gasto:",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(v,")")}}),Object(O.jsxs)("select",Object(i.a)(Object(i.a)({},j("Tipo de gasto")),{},{children:[Object(O.jsx)("option",{value:"Arriendo",children:"Arriendo"}),Object(O.jsx)("option",{value:"Mercado",children:"Mercado"}),Object(O.jsx)("option",{value:"Luz",children:"Luz"}),Object(O.jsx)("option",{value:"Agua",children:"Agua"}),Object(O.jsx)("option",{value:"Gas",children:"G\xe1s"}),Object(O.jsx)("option",{value:"Internet",children:"Internet"}),Object(O.jsx)("option",{value:"Domicilios",children:"Domicilios"}),Object(O.jsx)("option",{value:"Restaurantes",children:"Restaurantes"}),Object(O.jsx)("option",{value:"Gasto casa",children:"Gasto casa"}),Object(O.jsx)("option",{value:"Otros",children:"Otros"})]}))]}),Object(O.jsxs)("label",{children:["Costo:",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(T,")")}}),Object(O.jsx)("input",Object(i.a)(Object(i.a)({},j("Costo")),{},{type:"text",value:s,onInput:function(e){r(function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}(e.target.value.toString().replace(/[^0-9]/g,"")))}}))]}),Object(O.jsxs)("label",{children:["Comentario (opcional):",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(_,")")}}),Object(O.jsx)("input",Object(i.a)(Object(i.a)({},j("Comentario")),{},{type:"text"}))]}),Object(O.jsx)("input",{className:"new-account-form__button",type:"submit",value:"Aceptar",onClick:t})]})},S=(c(59),c.p+"static/media/loading-icon.7f79218f.gif"),U=function(e){var t=e.popupState,c=e.togglePopup,a=Object(o.b)(),n=Object(o.c)((function(e){return e.current_account})),s=Object(o.c)((function(e){return e.loading})),r=Object(o.c)((function(e){return e.data_send})),i=function(){a(function(){var e=Object(x.a)(m.a.mark((function e(t,c){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c().current_account,t({type:"POST_ACCOUNT_REQUESTED"}),e.next=4,C.a.post("https://sheet.best/api/sheets/985f20ae-8841-4340-bbdb-491b3c707508",a);case 4:n=e.sent,console.log(n),t({type:"POST_ACCOUNT_DONE"});case 7:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}())};return r&&(console.log("Final"),setTimeout((function(){a({type:"RESET_DATA_SEND"})}),2e3),setTimeout((function(){c()}),2050)),Object(O.jsxs)(O.Fragment,{children:["         ",t?Object(O.jsxs)("div",{className:"popup-outer-container",children:[Object(O.jsx)("span",{className:"close-popup",onClick:c,children:"X"}),Object(O.jsxs)("div",{className:"popup-container",children:[Object(O.jsx)("h2",{className:"popup-title",children:"Verifica la informaci\xf3n"}),Object(O.jsxs)("article",{className:"popup-description",children:[Object(O.jsxs)("p",{children:["Fecha del gasto: ",Object(O.jsx)("span",{children:n.Fecha})]}),Object(O.jsxs)("p",{children:["Usuario: ",Object(O.jsx)("span",{children:n.Usuario})]}),Object(O.jsxs)("p",{children:["Tipo de gasto: ",Object(O.jsx)("span",{children:n["Tipo de gasto"]})]}),Object(O.jsxs)("p",{children:["Costo: ",Object(O.jsx)("span",{children:n.Costo})]}),Object(O.jsxs)("p",{children:["Comentario: ",Object(O.jsx)("span",{children:n.Comentario})]}),r?Object(O.jsx)("p",{className:"message-confirmation",children:" La informaci\xf3n fue envida! :)"}):null]}),r||s?Object(O.jsxs)("button",{className:"confirmation-button",children:[" ",s?Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(S,")")}}):Object(O.jsx)(O.Fragment,{children:"Confirmar"})]}):Object(O.jsxs)("button",{className:"confirmation-button",onClick:function(){return i()},children:[" ",s?Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(S,")")}}):Object(O.jsx)(O.Fragment,{children:"Confirmar"})]}),Object(O.jsx)("button",{className:"cancelation-button",onClick:c,children:"Cancelar"})]})]}):null," "]})},A=(c(60),c.p+"static/media/refresh-icon.8429e74d.svg"),k=function(e){var t=e.dateHourFormater,c=Object(a.useState)("Nunca"),n=Object(b.a)(c,2),s=n[0],r=n[1],i=Object(o.c)((function(e){return e.loading})),l=Object(o.c)((function(e){return e.accounts})),j=Object(o.b)();return Object(O.jsxs)("div",{className:"table-outer-container",children:[Object(O.jsxs)("p",{className:"table-last-update",children:["\xdaltima actualizaci\xf3n: ",Object(O.jsxs)("span",{children:[" ",s," "]})," "]}),i?Object(O.jsx)("button",{className:"get-table-button",children:Object(O.jsx)("span",{className:"get-table-button--loading-icon",style:{backgroundImage:"url(".concat(S,")")}})}):Object(O.jsxs)("button",{className:"get-table-button",onClick:function(){j(function(){var e=Object(x.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_ACCOUNTS_REQUESTED"}),e.next=3,C.a.get("https://sheet.best/api/sheets/985f20ae-8841-4340-bbdb-491b3c707508");case 3:c=e.sent,console.log("ACCOUNTS",c.data),t({type:"GET_ACCOUNTS_DONE",payload:c.data.length?c.data:[{Fecha:"",Usuario:"","Tipo de gasto":"No se obtuvieron datos",Costo:"",Comentario:""}]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(t())},children:[Object(O.jsx)("span",{className:"get-table-button--refresh-icon",style:{backgroundImage:"url(".concat(A,")")}}),"Actualizar Tabla"]}),Object(O.jsx)("h2",{className:"table-accounts-title",children:"Tabla de Gastos"}),Object(O.jsxs)("table",{className:"table-accounts",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Fecha"}),Object(O.jsx)("th",{children:"Usuario"}),Object(O.jsx)("th",{children:"Tipo de gasto"}),Object(O.jsx)("th",{children:"Costo"}),Object(O.jsx)("th",{children:"Comentario"})]})}),Object(O.jsx)("tbody",{children:i?Object(O.jsx)("tr",{className:"table-accounts--row-loading-icon",children:Object(O.jsx)("span",{className:"table-accounts__loading-icon",style:{backgroundImage:"url(".concat(S,")")}})}):l.slice(0).reverse().map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:e.Fecha}),Object(O.jsx)("th",{children:e.Usuario}),Object(O.jsx)("th",{children:e["Tipo de gasto"]}),Object(O.jsx)("th",{children:e.Costo}),Object(O.jsx)("th",{children:e.Comentario})]},t)}))})]}),Object(O.jsx)("a",{className:"table-accounts__link",target:"_blank",href:"https://docs.google.com/spreadsheets/d/175BoIJSFiQmeLXf3goVCcUeWnYjEt9QdIzUYcFyLnRQ/edit?usp=sharing",children:"Ir a tabla en Excel"})]})},F=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),c=t[0],n=t[1],s=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:"0"}),o=function(){n((function(e){return!e}))};return Object(O.jsxs)("div",{className:"home-container",children:[Object(O.jsx)(p,{}),Object(O.jsx)(y,{togglePopup:o}),Object(O.jsx)(U,{popupState:c,togglePopup:o,formatterCurrency:s}),Object(O.jsx)(k,{dateHourFormater:function(){var e=new Date;return"".concat(e.getDate(),"/").concat(e.getMonth(),"/").concat(e.getFullYear(),", ").concat(e.getHours(),":").concat(e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes(),":").concat(e.getSeconds()<10?"0".concat(e.getSeconds()):e.getSeconds())}})]})},D=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(F,{})})},I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.b,w=Object(r.c)(j,I(Object(r.a)(u.a)));s.a.render(Object(O.jsx)(o.a,{store:w,children:Object(O.jsx)(D,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.036ce74c.chunk.js.map