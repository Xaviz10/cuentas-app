(this["webpackJsonpcuentas-app"]=this["webpackJsonpcuentas-app"]||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(13),s=c.n(a),o=c(4),i=c(15),r=c(5),l=c(2),j={loading:!1,data_send:!1,error:null,current_account:{Fecha:"",Usuario:"","Tipo de gasto":"Sin datos, actualiza la tabla",Costo:0,Comentario:""},shopping:{data_send:!1,loading:!1,shopping_list:[]},accounts:[{Fecha:"",Usuario:"","Tipo de gasto":"Sin datos, actualiza la tabla",Costo:"",Comentario:""}]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(console.log("reducer",Boolean(t.payload)),t.type){case"RESET_DATA_SEND":return Object(l.a)(Object(l.a)({},e),{},{data_send:!1});case"SET_CURRENT_ACCOUNT":return Object(l.a)(Object(l.a)({},e),{},{current_account:t.payload});case"POST_ACCOUNT_REQUESTED":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"POST_ACCOUNT_DONE":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,data_send:!0});case"GET_ACCOUNTS_REQUESTED":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"GET_ACCOUNTS_DONE":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,accounts:t.payload});case"POST_NEW_ITEM_REQUESTED":return Object(l.a)(Object(l.a)({},e),{},{shopping:Object(l.a)(Object(l.a)({},e.shopping),{},{loading:!0})});case"POST_NEW_ITEM_DONE":return Object(l.a)(Object(l.a)({},e),{},{shopping:Object(l.a)(Object(l.a)({},e.shopping),{},{shopping_list:e.shopping.shopping_list.concat(t.payload),loading:!1,data_send:!0})});case"RESET_DATA_NEW_ITEM_SEND":return Object(l.a)(Object(l.a)({},e),{},{shopping:Object(l.a)(Object(l.a)({},e.shopping),{},{data_send:!1})});case"GET_PRODUCT_LIST_REQUESTED":return Object(l.a)(Object(l.a)({},e),{},{shopping:Object(l.a)(Object(l.a)({},e.shopping),{},{loading:!0})});case"GET_PRODUCT_LIST_DONE":return Object(l.a)(Object(l.a)({},e),{},{shopping:Object(l.a)(Object(l.a)({},e.shopping),{},{shopping_list:t.payload,loading:!1})});case"DELETE_ITEM_REQUESTED":return Object(l.a)(Object(l.a)({},e),{},{shopping:Object(l.a)(Object(l.a)({},e.shopping),{},{loading:!0})});case"DELETE_ITEM_DONE":e.shopping.shopping_list.splice(t.payload,1);return Object(l.a)(Object(l.a)({},e),{},{shopping:Object(l.a)(Object(l.a)({},e.shopping),{},{shopping_list:Object(r.a)(e.shopping.shopping_list),loading:!1})});default:return e}},b=c(27),p=(c(36),c(6)),d=(c(37),c(38),c.p+"static/media/gastos-comunes-icon.6578e9ee.svg"),O=c(0),h=function(){return Object(O.jsx)("header",{className:"header-gastos-comunes",children:Object(O.jsx)("a",{href:"/",className:"header-gastos-comunes__logo",children:Object(O.jsx)("img",{src:d,alt:"Cuentas comunes logo"})})})},g=c(14),m=c(3),x=c.n(m),f=c(7),_=c(11),E=c.n(_),N=(c(59),c.p+"static/media/calendar-icon.2219f59f.svg"),T=c.p+"static/media/comment-icon.e2811a2f.svg",C=c.p+"static/media/price-icon.e822666f.svg",v=c.p+"static/media/type-icon.d8f40693.svg",S=c.p+"static/media/user-icon.83c6af46.svg",y=function(e){var t=e.togglePopup,c=Object(n.useState)(""),a=Object(p.a)(c,2),s=a[0],i=a[1],r=Object(g.a)(),j=r.register,u=r.handleSubmit,b=Object(o.b)();return Object(O.jsxs)("form",{className:"new-account-form",onSubmit:u((function(e){b(function(e){return{type:"SET_CURRENT_ACCOUNT",payload:e}}(e))})),children:[Object(O.jsx)("h2",{className:"new-account-form__title",children:"Adicionar Gastos"}),Object(O.jsxs)("label",{children:["Fecha:",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(N,")")}}),Object(O.jsx)("input",Object(l.a)(Object(l.a)({},j("Fecha")),{},{type:"date"}))]}),Object(O.jsxs)("label",{children:["Usuario:",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(S,")")}}),Object(O.jsx)("input",Object(l.a)(Object(l.a)({},j("Usuario")),{},{type:"text"}))]}),Object(O.jsxs)("label",{children:["Tipo de gasto:",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(v,")")}}),Object(O.jsxs)("select",Object(l.a)(Object(l.a)({},j("Tipo de gasto")),{},{children:[Object(O.jsx)("option",{value:"Arriendo",children:"Arriendo"}),Object(O.jsx)("option",{value:"Mercado",children:"Mercado"}),Object(O.jsx)("option",{value:"Luz",children:"Luz"}),Object(O.jsx)("option",{value:"Agua",children:"Agua"}),Object(O.jsx)("option",{value:"Gas",children:"G\xe1s"}),Object(O.jsx)("option",{value:"Internet",children:"Internet"}),Object(O.jsx)("option",{value:"Domicilios",children:"Domicilios"}),Object(O.jsx)("option",{value:"Restaurantes",children:"Restaurantes"}),Object(O.jsx)("option",{value:"Gasto casa",children:"Gasto casa"}),Object(O.jsx)("option",{value:"Otros",children:"Otros"})]}))]}),Object(O.jsxs)("label",{children:["Costo:",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(C,")")}}),Object(O.jsx)("input",Object(l.a)(Object(l.a)({},j("Costo")),{},{type:"text",value:s,onInput:function(e){i(function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}(e.target.value.toString().replace(/[^0-9]/g,"")))}}))]}),Object(O.jsxs)("label",{children:["Comentario (opcional):",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(T,")")}}),Object(O.jsx)("input",Object(l.a)(Object(l.a)({},j("Comentario")),{},{type:"text"}))]}),Object(O.jsx)("input",{className:"new-account-form__button",type:"submit",value:"Aceptar",onClick:t})]})},I=(c(60),c.p+"static/media/loading-icon.7f79218f.gif"),D=function(e){var t=e.popupState,c=e.togglePopup,n=Object(o.b)(),a=Object(o.c)((function(e){return e.current_account})),s=Object(o.c)((function(e){return e.loading})),i=Object(o.c)((function(e){return e.data_send})),r=function(){n(function(){var e=Object(f.a)(x.a.mark((function e(t,c){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c().current_account,console.log("newAccount",n),t({type:"POST_ACCOUNT_REQUESTED"}),e.next=5,E.a.post("https://sheet.best/api/sheets/985f20ae-8841-4340-bbdb-491b3c707508",n);case 5:a=e.sent,console.log(a),t({type:"POST_ACCOUNT_DONE"});case 8:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}())};return i&&(setTimeout((function(){n({type:"RESET_DATA_SEND"})}),2e3),setTimeout((function(){c()}),2050)),Object(O.jsxs)(O.Fragment,{children:["         ",t?Object(O.jsxs)("div",{className:"popup-outer-container",children:[Object(O.jsx)("span",{className:"close-popup",onClick:c,children:"X"}),Object(O.jsxs)("div",{className:"popup-container",children:[Object(O.jsx)("h2",{className:"popup-title",children:"Verifica la informaci\xf3n"}),Object(O.jsxs)("article",{className:"popup-description",children:[Object(O.jsxs)("p",{children:["Fecha del gasto: ",Object(O.jsx)("span",{children:a.Fecha})]}),Object(O.jsxs)("p",{children:["Usuario: ",Object(O.jsx)("span",{children:a.Usuario})]}),Object(O.jsxs)("p",{children:["Tipo de gasto: ",Object(O.jsx)("span",{children:a["Tipo de gasto"]})]}),Object(O.jsxs)("p",{children:["Costo: ",Object(O.jsx)("span",{children:a.Costo})]}),Object(O.jsxs)("p",{children:["Comentario: ",Object(O.jsx)("span",{children:a.Comentario})]}),i?Object(O.jsx)("p",{className:"message-confirmation",children:" La informaci\xf3n fue envida! :)"}):null]}),i||s?Object(O.jsxs)("button",{className:"confirmation-button",children:[" ",s?Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(I,")")}}):Object(O.jsx)(O.Fragment,{children:"Confirmar"})]}):Object(O.jsxs)("button",{className:"confirmation-button",onClick:function(){return r()},children:[" ",s?Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(I,")")}}):Object(O.jsx)(O.Fragment,{children:"Confirmar"})]}),Object(O.jsx)("button",{className:"cancelation-button",onClick:c,children:"Cancelar"})]})]}):null," "]})},U=(c(61),c.p+"static/media/product-icon.9733a079.svg"),w=function(e){var t=e.popupNewItemState,c=e.togglePopupNewItem,n=Object(o.b)(),a=Object(g.a)(),s=a.register,i=a.handleSubmit,r=Object(o.c)((function(e){return e.shopping.loading})),j=Object(o.c)((function(e){return e.shopping.data_send})),u=function(e){var t;n((t=e,function(){var e=Object(f.a)(x.a.mark((function e(c){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("newItem",t),c({type:"POST_NEW_ITEM_REQUESTED"}),e.next=4,E.a.post("https://sheet.best/api/sheets/a282074d-7798-43e8-ba31-f09d94819122",t);case 4:n=e.sent,console.log(n),c({type:"POST_NEW_ITEM_DONE",payload:t});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return j&&(setTimeout((function(){n({type:"RESET_DATA_NEW_ITEM_SEND"})}),2e3),setTimeout((function(){c()}),2050)),Object(O.jsxs)(O.Fragment,{children:["         ",t?Object(O.jsxs)("div",{className:"popup-new-item-outer-container",children:[Object(O.jsx)("span",{className:"close-popup-new-item",onClick:c,children:"X"}),Object(O.jsxs)("div",{className:"popup-new-item-container",children:[Object(O.jsx)("h2",{className:"popup-new-item__title",children:"Adicionar producto"}),Object(O.jsxs)("form",{className:"popup-new-item__form",onSubmit:i((function(e){e.Comprado="No",console.log("Shopping List: ",e),u(e)})),children:[Object(O.jsxs)("label",{children:["Producto:",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(U,")")}}),Object(O.jsx)("input",Object(l.a)(Object(l.a)({},s("Producto")),{},{type:"text"}))]}),Object(O.jsxs)("label",{children:["Comentario (Opcional):",Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(T,")")}}),Object(O.jsx)("input",Object(l.a)(Object(l.a)({},s("Comentario")),{},{type:"text"}))]}),Object(O.jsxs)("button",{className:"confirmation-button",children:[" ",r?Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(I,")")}}):Object(O.jsx)(O.Fragment,{children:"Confirmar"})]})]}),j?Object(O.jsx)("p",{className:"message-confirmation",children:" La informaci\xf3n fue envida! :)"}):null,Object(O.jsx)("button",{className:"cancelation-button",onClick:c,children:"Cancelar"})]})]}):null," "]})},k=(c(62),c.p+"static/media/refresh-icon.8429e74d.svg"),A=function(e){var t=e.dateHourFormater,c=Object(n.useState)("Nunca"),a=Object(p.a)(c,2),s=a[0],i=a[1],r=Object(o.c)((function(e){return e.loading})),l=Object(o.c)((function(e){return e.accounts})),j=Object(o.b)();return Object(O.jsxs)("div",{className:"table-outer-container",children:[Object(O.jsx)("h2",{className:"table-accounts-title",children:"Tabla de Gastos"}),Object(O.jsxs)("p",{className:"table-last-update",children:["\xdaltima actualizaci\xf3n: ",Object(O.jsxs)("span",{children:[" ",s," "]})," "]}),r?Object(O.jsx)("button",{className:"get-table-button",children:Object(O.jsx)("span",{className:"get-table-button--loading-icon",style:{backgroundImage:"url(".concat(I,")")}})}):Object(O.jsxs)("button",{className:"get-table-button",onClick:function(){j(function(){var e=Object(f.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_ACCOUNTS_REQUESTED"}),e.next=3,E.a.get("https://sheet.best/api/sheets/985f20ae-8841-4340-bbdb-491b3c707508");case 3:c=e.sent,console.log("ACCOUNTS",c.data),t({type:"GET_ACCOUNTS_DONE",payload:c.data.length?c.data:[{Fecha:"",Usuario:"","Tipo de gasto":"No se obtuvieron datos",Costo:"",Comentario:""}]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(t())},children:[Object(O.jsx)("span",{className:"get-table-button--refresh-icon",style:{backgroundImage:"url(".concat(k,")")}}),"Actualizar Tabla"]}),Object(O.jsx)("div",{className:"table-inner-container",children:Object(O.jsxs)("table",{className:"table-accounts",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Fecha"}),Object(O.jsx)("th",{children:"Usuario"}),Object(O.jsx)("th",{children:"Tipo de gasto"}),Object(O.jsx)("th",{children:"Costo"}),Object(O.jsx)("th",{children:"Comentario"})]})}),Object(O.jsx)("tbody",{children:r?Object(O.jsx)("tr",{className:"table-accounts--row-loading-icon",children:Object(O.jsx)("span",{className:"table-accounts__loading-icon",style:{backgroundImage:"url(".concat(I,")")}})}):l.slice(0).reverse().map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:e.Fecha}),Object(O.jsx)("th",{children:e.Usuario}),Object(O.jsx)("th",{children:e["Tipo de gasto"]}),Object(O.jsx)("th",{children:e.Costo}),Object(O.jsx)("th",{children:e.Comentario})]},t)}))})]})}),Object(O.jsx)("a",{className:"table-accounts__link",target:"_blank",href:"https://docs.google.com/spreadsheets/d/175BoIJSFiQmeLXf3goVCcUeWnYjEt9QdIzUYcFyLnRQ/edit?usp=sharing",children:"Ir a tabla en Excel"})]})},P=(c(63),c.p+"static/media/delete-icon.d4895997.svg"),R=c.p+"static/media/new-item-icon.85b83752.svg",F=function(e){var t=e.togglePopupNewItem,c=e.dateHourFormater,a=Object(n.useState)("Nunca"),s=Object(p.a)(a,2),i=s[0],r=s[1],l=Object(o.b)(),j=Object(o.c)((function(e){return e.shopping.shopping_list})),u=Object(o.c)((function(e){return e.shopping.loading}));console.log(j.length),Object(n.useEffect)((function(){l(function(){var e=Object(f.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_PRODUCT_LIST_REQUESTED"}),e.next=3,E.a.get("https://sheet.best/api/sheets/a282074d-7798-43e8-ba31-f09d94819122");case 3:c=e.sent,console.log("productList",c.data),t({type:"GET_PRODUCT_LIST_DONE",payload:c.data.length?c.data:[]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(c())}),[]);var b=function(e){l(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(c,n){var a,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n().shopping.shopping_list.findIndex((function(t){return t.Producto===e})),console.log(a),c({type:"DELETE_ITEM_REQUESTED"}),t.next=5,E.a.delete("https://sheet.best/api/sheets/a282074d-7798-43e8-ba31-f09d94819122/Producto/*".concat(e,"*"));case 5:s=t.sent,console.log("deletedItem",s),c({type:"DELETE_ITEM_DONE",payload:a});case 8:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}(e))};return Object(O.jsxs)("div",{className:"shopping-list-outer-container",children:[Object(O.jsx)("h2",{className:"shopping-list-title",children:"Lista de Compras"}),Object(O.jsxs)("p",{className:"shopping-list-last-update",children:["\xdaltima actualizaci\xf3n: ",Object(O.jsxs)("span",{children:[" ",i," "]})," "]}),Object(O.jsxs)("button",{className:"new-item-button",onClick:t,children:[Object(O.jsx)("span",{className:"new-item-button--add-icon",style:{backgroundImage:"url(".concat(R,")")}}),"Adicionar Producto"]}),Object(O.jsxs)("div",{className:"shopping-list-inner-container",children:[Object(O.jsx)("ul",{className:"shopping-list",children:j.length?j.slice(0).reverse().map((function(e,t){return Object(O.jsxs)("li",{className:"shopping-list__item",children:[Object(O.jsx)("input",{type:"checkbox"}),Object(O.jsxs)("p",{children:[e.Producto,Object(O.jsx)("span",{className:"item__comment",children:"(".concat(e.Comentario,")")})]}),Object(O.jsx)("button",{className:"item__delete-button",onClick:function(){return b(e.Producto)},children:u?Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(I,")")}}):Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(P,")")}})})]},t)})):Object(O.jsx)("div",{className:"shopping-list-loading",children:Object(O.jsx)("span",{children:"Sin productos."})})}),u?Object(O.jsx)("div",{className:"shopping-list-loading",children:Object(O.jsx)("span",{style:{backgroundImage:"url(".concat(I,")")}})}):null]})]})},L=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),o=Object(p.a)(s,2),i=o[0],r=o[1],l=(new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:"0"}),function(){var e=new Date;return"".concat(e.getDate(),"/").concat(e.getMonth(),"/").concat(e.getFullYear(),", ").concat(e.getHours(),":").concat(e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes(),":").concat(e.getSeconds()<10?"0".concat(e.getSeconds()):e.getSeconds())}),j=function(){a((function(e){return!e}))},u=function(){r((function(e){return!e}))};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h,{}),Object(O.jsxs)("div",{className:"home-container",children:[Object(O.jsx)(y,{togglePopup:j}),Object(O.jsxs)("div",{className:"home-container__tables",children:[Object(O.jsx)(A,{dateHourFormater:l}),Object(O.jsx)(F,{dateHourFormater:l,togglePopupNewItem:u})]})]}),Object(O.jsx)(D,{popupState:c,togglePopup:j}),Object(O.jsx)(w,{popupNewItemState:i,togglePopupNewItem:u})]})},M=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(L,{})})},G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.b,Q=Object(i.c)(u,G(Object(i.a)(b.a)));s.a.render(Object(O.jsx)(o.a,{store:Q,children:Object(O.jsx)(M,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.f964c2ff.chunk.js.map